<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Cargar nuevo anteojo</title>
  <style>
    :root { --bg:#f5f5f5; --fg:#111; --muted:#666; --btn:#222; --btnH:#444; }
    body{font-family:Arial, sans-serif; background:var(--bg); color:var(--fg); padding:18px; max-width:760px; margin:auto}
    h1{font-size:1.4rem; margin:0 0 14px}
    label{display:block; font-weight:600; margin-top:12px}
    input, select, textarea, button{
      width:100%; padding:10px; margin-top:6px; box-sizing:border-box; font-size:16px
    }
    textarea{min-height:70px; resize:vertical}
    button{background:var(--btn); color:#fff; border:0; cursor:pointer; border-radius:6px}
    button:hover{background:var(--btnH)}
    small.hint{color:var(--muted)}
    #mensaje-flotante{
      position:sticky; top:0; padding:10px 12px; margin-bottom:10px;
      background:#fff; border:1px solid #ddd; border-radius:6px; font-weight:600
    }
    .row-2{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width:560px){ .row-2{grid-template-columns:1fr} }
  </style>
</head>
<body>

  <div id="mensaje-flotante">Listo para cargar 👓</div>

  <h1>Cargar nuevo anteojo v 9..52</h1>

  <form id="form-anteojo" onsubmit="event.preventDefault(); guardar();">
    <label for="n_anteojo">N° anteojo</label>
    <input id="n_anteojo" name="n_anteojo" type="text" autocomplete="off" />

    <label for="marca">Marca</label>
    <input id="marca" name="marca" type="text" autocomplete="off" />

    <label for="modelo">Modelo</label>
    <input id="modelo" name="modelo" type="text" autocomplete="off" />

    <label for="codigo_color">Código color</label>
    <input id="codigo_color" name="codigo_color" type="text" autocomplete="off" />

    <div class="row-2">
      <div>
        <label for="color_armazon">Color armazón</label>
        <input id="color_armazon" name="color_armazon" type="text" autocomplete="off" />
      </div>
      <div>
        <label for="calibre">Calibre</label>
        <input id="calibre" name="calibre" type="text" autocomplete="off" />
      </div>
    </div>

    <label for="color_cristal">Color cristal</label>
    <input id="color_cristal" name="color_cristal" type="text" autocomplete="off" />

    <div class="row-2">
      <div>
        <label for="familia">Familia</label>
        <select id="familia" name="familia" onchange="calcularPrecio()">
          <option value="">-- Seleccionar --</option>
          <option value="SOL">SOL</option>
          <option value="RECETA">RECETA</option>
        </select>
        <small class="hint">SOL ×2.42 · RECETA ×3.63</small>
      </div>
      <div>
        <label for="costo">Costo</label>
        <input id="costo" name="costo" type="number" step="0.01" inputmode="decimal" oninput="calcularPrecio()" />
      </div>
    </div>

    <label for="precio">Precio público</label>
    <input id="precio" name="precio" type="number" step="0.01" inputmode="decimal" />

    <label for="codigo_barras">Código de barras</label>
    <input id="codigo_barras" name="codigo_barras" type="text" autocomplete="off" />

    <label for="observaciones">Observaciones</label>
    <textarea id="observaciones" name="observaciones" placeholder="Notas, color especial, etc. (Shift+Enter para salto de línea)"></textarea>

    <button id="btn-guardar" type="submit">Guardar</button>
    <small class="hint">Tip: también podés **apretar Enter** para guardar.</small>
  </form>

  <!-- Tu JS con Enter=guardar y persistencia de marca/familia -->
  <script src="carga.js"></script>
</body>
</html>
